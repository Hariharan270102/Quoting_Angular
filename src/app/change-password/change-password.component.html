<app-welcome></app-welcome>
<div class="login-box">
  <h2>CHANGE PASSWORD</h2>
  <form #passwordForm="ngForm" (ngSubmit)="changePassword()">
    <div class="user-box">
      <input type="password" name="password" [(ngModel)]="password" required pattern="^(?=.*[a-zA-Z0-9]).{8,}$" #passwordField="ngModel" >
      <label for="password" [ngClass]="{ 'error': passwordField?.invalid && (passwordField?.dirty || passwordField?.touched) }">Enter new password</label>
      <div *ngIf="passwordField?.invalid && (passwordField?.dirty || passwordField?.touched)">
        <div *ngIf="passwordField?.errors?.['required']" style="color: red;">Please enter a password.</div>
        <div *ngIf="passwordField?.errors?.['pattern']" style="color: red;">Please enter a valid password (at least 8 characters with letters and numbers).</div>
      </div>
    </div>

    <div class="user-box">
      <input type="password" name="reEnterPassword" [(ngModel)]="reEnterPassword" required #reEnterPasswordField="ngModel">
      <label for="reEnterPassword" [ngClass]="{ 'error': reEnterPasswordField?.invalid && (reEnterPasswordField?.dirty || reEnterPasswordField?.touched) }">Re-enter password</label>
      <div *ngIf="reEnterPasswordField?.invalid && (reEnterPasswordField?.dirty || reEnterPasswordField?.touched)">
        <div *ngIf="reEnterPasswordField?.errors?.['required']" style="color: red;">Please re-enter your password.</div>
      </div>
    </div>

    <button class="login-button" type="submit" [disabled]="passwordForm?.invalid">Change Password</button>
  </form>
</div>
